<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>系统管理平台-业务模块配置</title>
    <link href="../../lib/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="sysModular.css">
</head>

<body>
	<body ng-app="SysModule">
    <div class="staff-man">
        <!-- 查询 -->
        <div class="staff-man-query">
            <form name="querySysForm" ng-submit="querySysFormSubmit()" ng-controller="querySysFormCtrl" class="form-inline" role="form">
                <div class="row mb10">
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="control-label sys_label" for="sysId">业务模块ID：</label>
                            <input type="input" id="sysId" class="form-control query-input" ng-model="querySysForm.sysId">
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="control-label sys_label" for="sysName">业务模块名称：</label>
                            <input type="input" id="sysName" class="form-control query-input" ng-model="querySysForm.sysName">
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="control-label sys_label" for="sysType">业务模块类型：</label>
                            <select class="form-control query-input query-select"" id="sysType" ng-model="querySysForm.sysSystem" ng-options="opt for opt in sysType"></select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="control-label sys_label" for="sysSystem">所属系统：</label>
                            <select class="form-control query-input query-select"" id="sysSystem" ng-model="querySysForm.sysSystem" ng-options="opt for opt in systemList"></select>
                        </div>
                    </div>
                    <div class="text-right">
                        <button type="submit" ng-disabled="isForbid" class="btn btn-sm btn-query"><i class="iconfont">&#xe600;</i> 查询</button>
                    </div>
                </div>
            </form>
        </div>
        <!-- 弹出 -->
        <div ng-controller="editSysModalCtrl as $ctrl">
            <!-- 结果 -->
            <div class="staff-man-result" ng-controller="SysResultCtrl">
                <div class="row result-header">
                    <div class="col-xs-4">
                        <div class="title">
                            <img src="../../images/icon_staffList.png">
                            <p class="title-cn">权限规格列表</p>
                            <p class="title-en">Jurisdiction</p>
                        </div>
                    </div>
                    <div class="col-xs-8 text-right">
                        <a ng-click="addSys()" class="btn btn-xs btn-set"><i class="iconfont">&#xe60e;</i> 新建</a>
                        <button ng-click="" class="btn btn-xs btn-set"><i class="iconfont">&#xe610;</i> 删除</button>
                    </div>
                </div>
                <div class="result-table">
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>选择</th>
                                <th>业务模块ID</th>
                                <th>业务模块名称</th>
                                <th>业务模块类型</th>
                                <th>所属系统</th>
                                <th>上级业务模块</th>
                                <th>模块URL</th>
                                <th>接口方法</th>
                                <th>描述</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in SysResultList">
                                <td>
                                    <input type="checkbox" name="checkbox{{$index}}">
                                </td>
                                <td>
                                    <p ng-bind="item.sysId"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysName"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysType"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysSystem"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysSupmodule"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysUrl"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysInterface"></p>
                                </td>
                                <td>
                                    <p ng-bind="item.sysDescribe"></p>
                                </td>
                                <td>
                                    <button class="btn btn-xs btn-edit" ng-click="editSys($index, '修改模块')"><i class="iconfont">&#xe60d;</i> 修改</button>
                                    <button class="btn btn-xs btn-edit" ng-click="editSys($index, '模块详情')"><i class="iconfont">&#xe60b;</i> 详情</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div ng-controller="paginationCtrl" class="text-center">
                    <ul uib-pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" first-text="首页" last-text="尾页" previous-text="<" next-text=">"></ul>
                </div>
            </div>
            <script type="text/ng-template" id="myModularContent.html">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="$ctrl.cancel()">Close</button>
                    <h3 class="modal-title" id="modal-title"><i class="iconfont">&#xe603;</i>{{syeTitle}}</h3>
                </div>
                <div class="modal-body" id="modal-body">
                    <form name="editSysForm" ng-submit="editSysFormSubmit()" ng-controller="editSysFormCtrl" class="form-inline" role="form">
                        <div class="row mb10">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysId">业务模块ID：</label>
                                    <input ng-if="syeTitle === '新建模块'" type="input" id="sysId" class="form-control edit-input" ng-model="modifiedSys.sysId">
                                    <input ng-if="syeTitle === '修改模块'" type="input" id="sysId" class="form-control edit-input" ng-model="modifiedSys.sysId" disabled>
                                    <span ng-if="syeTitle === '模块详情'" id="sysId" class="edit-input sys_detail" ng-bind="modifiedSys.sysId"></span>

                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysName">业务模块名称：</label>
                                    <input ng-if="syeTitle === '新建模块'" type="input" id="sysName" class="form-control edit-input" ng-model="modifiedSys.sysName">
                                    <input ng-if="syeTitle === '修改模块'" type="input" id="sysName" class="form-control edit-input" ng-model="modifiedSys.sysName">
                                    <span ng-if="syeTitle === '模块详情'" id="sysName" class="edit-input sys_detail" ng-bind="modifiedSys.sysName"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row mb10">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysType">业务模块类型：</label>
                                    <select ng-if="syeTitle === '新建模块'" class="form-control query-input query-select" id="sysType" ng-model="modifiedSys.sysType" ng-options="opt for opt in sysType"></select>
                                    <select ng-if="syeTitle === '修改模块'" ng-if="syeTitle === '新建模块'" class="form-control query-input query-select" id="sysType" ng-model="modifiedSys.sysType" ng-options="opt for opt in sysType"></select>
                                    <span ng-if="syeTitle === '模块详情'" id="sysType" class="edit-input sys_detail" ng-bind="modifiedSys.sysType"></span>

                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysSystem">所属系统：</label>
                                    <select ng-if="syeTitle === '新建模块'" class="form-control query-input query-select" id="sysSystem" ng-model="modifiedSys.sysSystem" ng-options="opt for opt in systemList"></select>
                                    <select ng-if="syeTitle === '修改模块'" ng-if="syeTitle === '新建模块'" class="form-control query-input query-select" id="sysSystem" ng-model="modifiedSys.sysSystem" ng-options="opt for opt in systemList"></select>
                                    <span ng-if="syeTitle === '模块详情'" id="sysSystem" class="edit-input sys_detail" ng-bind="modifiedSys.sysSystem"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row mb10">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysSupmodule">上级业务模块：</label>
                                    <input ng-if="syeTitle === '新建模块'" type="input" id="sysSupmodule" class="form-control edit-input" ng-model="modifiedSys.sysSupmodule">
                                    <input ng-if="syeTitle === '修改模块'" type="input" id="sysSupmodule" class="form-control edit-input" ng-model="modifiedSys.sysSupmodule">
                                    <span ng-if="syeTitle === '模块详情'" id="sysSupmodule" class="edit-input sys_detail" ng-bind="modifiedSys.sysSupmodule"></span>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysUrl">模块URL：</label>
                                    <input ng-if="syeTitle === '新建模块'" type="input" id="sysUrl" class="form-control edit-input" ng-model="modifiedSys.sysUrl">
                                    <input ng-if="syeTitle === '修改模块'" type="input" id="sysUrl" class="form-control edit-input" ng-model="modifiedSys.sysUrl">
                                    <span ng-if="syeTitle === '模块详情'" id="sysUrl" class="edit-input sys_detail" ng-bind="modifiedSys.sysUrl"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row mb10">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysInterface">接口方法：</label>
                                    <input ng-if="syeTitle === '新建模块'" type="input" id="sysInterface" class="form-control edit-input" ng-model="modifiedSys.sysInterface">
                                    <input ng-if="syeTitle === '修改模块'" type="input" id="sysInterface" class="form-control edit-input" ng-model="modifiedSys.sysInterface">
                                    <span ng-if="syeTitle === '模块详情'" id="sysInterface" class="edit-input sys_detail" ng-bind="modifiedSys.sysInterface"></span>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label class="control-label edit-label sys_left" for="sysDescribe">描述：</label>
                                    <input ng-if="syeTitle === '新建模块'" type="input" id="sysDescribe" class="form-control edit-input" ng-model="modifiedSys.sysDescribe">
                                    <input ng-if="syeTitle === '修改模块'" type="input" id="sysDescribe" class="form-control edit-input" ng-model="modifiedSys.sysDescribe">
                                    <span ng-if="syeTitle === '模块详情'" id="sysDescribe" class="edit-input sys_detail" ng-bind="modifiedSys.sysDescribe"></span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-cancel" type="button" ng-click="$ctrl.cancel()">关闭</button>
                    <button class="btn btn-submit" type="button" ng-disabled="isForbidSubmit" ng-click="$ctrl.ok()">确定</button> 
                </div>
            </script>
        </div>
    </div>
    <script src="../../lib/angular.min.js"></script>
    <script src="../../lib/angular-touch.min.js"></script>
    <script src="../../lib/angular-animate.min.js"></script>
    <script src="../../lib/angular-aria.min.js"></script>
    <script src="../../lib/jquery.min.js"></script>
    <script src="../../lib/bootstrap.min.js"></script>
    <script src="../../lib/ui-bootstrap.js"></script>
    <script src="../../lib/ui-bootstrap-tpls-2.1.3.js"></script>
    <script src="sysModular.js"></script>
</body>

</html>
